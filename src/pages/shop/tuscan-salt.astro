---
const BASE =
  import.meta.env.BASE_URL.endsWith("/")
    ? import.meta.env.BASE_URL
    : `${import.meta.env.BASE_URL}/`;

const withBase = (p) => `${BASE}${String(p).replace(/^\/+/, "")}`;

const PRODUCT = {
  name: "Tuscan Sea Salt",
  price: "$12",
  origin: "Tuscany, Italy",
  image: "images/products/tuscan-salt.jpg",
  storyUrl: "stories/tuscany",
};
---

<html lang="en">
  <head>
    <title>{PRODUCT.name}</title>
  </head>

  <body style="font-family: system-ui; max-width:960px; margin:40px auto; padding:0 16px;">
    <header style="display:flex; justify-content:space-between; align-items:center;">
      <h1>{PRODUCT.name}</h1>
      <nav style="display:flex; gap:12px;">
        <a href={withBase("")}>Home</a>
        <a href={withBase("stories/tuscany")}>Stories</a>
        <a href={withBase("shop")}>Shop</a>
      </nav>
    </header>

    <img src={withBase(PRODUCT.image)} alt={PRODUCT.name} style="width:100%; max-width:420px; border-radius:16px; margin-top:20px;" />

    <p>{PRODUCT.price} • {PRODUCT.origin}</p>

    <a href={withBase(PRODUCT.storyUrl)}>Read the Tuscany story →</a>
  </body>
</html>
